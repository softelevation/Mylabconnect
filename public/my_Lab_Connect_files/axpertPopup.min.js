/*www.agilecloud.biz/minZIP?v=3.6*/var iframeHtmlSrc="";function createPopup(iframeSource,isRefreshSelect,width,height){if(iframeHtmlSrc=iframeSource,width=width||"100vw",isRefreshSelect!=undefined)try{eval(callParent("isTstructPopup")+" = true")}catch(ex){console.log(ex.message)}if(htmlContent=createIframeMarkup(iframeSource,width,height),$("head").append(htmlContent),-1!==iframeSource.indexOf("tstruct.aspx")||-1!==iframeSource.indexOf("ivtstload.aspx"))var options={closeOnOutsideClick:!0,hashTracking:!1,closeOnEscape:!1};else var options={closeOnOutsideClick:!0,hashTracking:!1,closeOnEscape:!0};var inst=$("[data-remodal-id=axpertPopupModal]:not(.remodal-is-initialized):not(.remodal-is-closed):eq(0)").remodal(options);return inst&&"opened"!=inst.state&&inst.open(),inst}function createIframeMarkup(e,a,t){var o=checkForAxpPopUpExists(),r="";o>0&&(r="height:"+(100-10*++o)+"vh;width:"+(100-10*o)+"vw"),a!=undefined&&(r="width:"+a+";"),t!=undefined&&(r+="height:"+t+";");var n='<div id="axpertPopupWrapper" style="'+r+'" class="remodal" data-remodal-id="axpertPopupModal">';return n+='<button data-remodal-action="close" class="remodal-close remodalCloseBtn icon-basic-remove"style="color:black;" title="Close"></button>',n+="<div style='height:100%;' id='iframeMarkUp'></div>",n+="</div>"}function checkForAxpPopUpExists(){return!!eval(callParent("axpertPopupWrapper","id"))&&$("#axpertPopupWrapper",eval(callParent("axpertPopupWrapper","id"))).length}function closeRemodalPopup(){var e=$("[data-remodal-id=axpertPopupModal]:not(.remodal-is-closed):eq(0)").remodal();try{e.close()}catch(a){}}function pushValToSession(e,a){$.ajax({type:"POST",url:"../WebService.asmx/AddSessionPair",cache:!1,async:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify({key:e,val:a}),dataType:"json",success:function(e){}})}$(document).on("opening","#axpertPopupWrapper",function(){$("#wrapperForMainNewData",eval(callParent("wrapperForMainNewData","id"))).hide(),ShowDimmer(!0)}),$(document).on("closing","#axpertPopupWrapper",function(){checkForAxpPopUpExists()||$("#wrapperForMainNewData",eval(callParent("wrapperForMainNewData","id"))).show()}),$(document).on("opened","#axpertPopupWrapper",function(){eval(callParent("addOverlayToBody()"));try{iframeHtmlSrc=ax_loadCustomPopIframe(iframeHtmlSrc,window)||iframeHtmlSrc}catch(ex){}$("#axpertPopupWrapper #iframeMarkUp").html('<iframe src="'+iframeHtmlSrc+'" id="popupIframeRemodal" width="100%" height="100%" style="border:0px; "></iframe>'),window.leftMenuWrapper===undefined&&window.parent.document&&$(window.parent.document).contents().find(".remodalCloseBtn").hide(),$("#popupIframeRemodal").on("load",function(){$("#popupIframeRemodal")[0].contentWindow.$&&($("#popupIframeRemodal").contents().find("head").append($('<style>#backforwrdbuttons{display:none;}a[title="List View"]{display: none !important;}#new{display: none !important;}#dvGoBack{display: none !important;}</style>')),$("#popupIframeRemodal").contents().find("head").append($("<script>$(document).ready(function() { if ($('[id^=gridToggleBtn]').length > 0 && recordid !='0') { $($('[id^=gridToggleBtn]')).each(function (index) { toggleTheEditLayout($('[id^=gridToggleBtn]')[index].id.substr($('[id^=gridToggleBtn]')[index].id.indexOf('gridToggleBtn') + 13)); }); } });<\/script>")));try{eval(callParent("isTstructPopup"))&&$("#popupIframeRemodal").contents().find("head").append($("<style>#icons li a:not([title=Save]){display: none !important;}</style>"))}catch(ex){console.log(ex.message)}try{ax_loadCustomPopPage(iframeHtmlSrc,window)}catch(ex){}ShowDimmer(!1)}),$("#dvSelectedGlobalVar,#ExportImportCogIcon",eval(callParent("ExportImportCogIcon","id"))).hide(),$("#popupIframeRemodal").contents().find("body :focusable").first().focus(),MainNewEdit=!0}),$(document).on("closed","#axpertPopupWrapper",function(){window.leftMenuWrapper===undefined&&window.parent.document&&$(window.parent.document).contents().find(".remodalCloseBtn").show();var isAxPop=$("#axpertPopupWrapper").find("#popupIframeRemodal").attr("src").indexOf("AxPop=true")>-1,inst=$("[data-remodal-id=axpertPopupModal]:eq(0)").remodal();try{inst.destroy()}catch(ex){}if(checkForAxpPopUpExists()||$("#ExportImportCogIcon",eval(callParent("ExportImportCogIcon","id"))).show(),checkForAxpPopUpExists()||$("#dvSelectedGlobalVar",eval(callParent("dvSelectedGlobalVar","id"))).show(),checkForAxpPopUpExists()||$("#wrapperForMainNewData",eval(callParent("wrapperForMainNewData","id"))).show(),MainNewEdit=!1,isAxPop&&("Iview"==window.document.title||"List IView"==window.document.title)&&eval(callParent("isSuccessAlertInPopUp")))eval(callParent("isSuccessAlertInPopUp")+"= false"),pushValToSession("IsFromChildWindow","true"),eval(callParent("isRefreshParentOnClose"))&&(eval(callParent("isRefreshParentOnClose")+"= false"),window.location.href=window.location.href);else if(isAxPop&&("Load TStruct with QS"==window.document.title||"Tstruct"==window.document.title||"Load Tstruct"==window.document.title)&&eval(callParent("isSuccessAlertInPopUp"))){eval(callParent("isSuccessAlertInPopUp")+"= false");var ReloadParent=!0;try{var CallActionVar=eval(callParent("callBackFunDtls"));if(void 0!==CallActionVar&&CallActionVar.indexOf("♠")>-1){var CallActionName=5==CallActionVar.split("♠").length?CallActionVar.split("♠")[1]:"";if(""!=CallActionName){var actIndex=$j.inArray(CallActionName,tstActionName);-1==actIndex&&(actIndex=$j.inArray(CallActionName.toLowerCase(),tstActionName)),ReloadParent="true"==actParRefresh[actIndex].toLowerCase()}}}catch(ex){}ReloadParent&&redirectOnSaveAction()}parent.isTstructPopup=!1,eval(callParent("removeOverlayFromBody()")),ShowDimmer(!1)}),$(document).on("click","#homeIcon,#dashBoardIcon,.leftPartAC",function(){"classic"===axMenuStyle&&(checkForAxpPopUpExists()||$("#dvSelectedGlobalVar",eval(callParent("dvSelectedGlobalVar","id"))).show(),$("#wrapperForMainNewData",eval(callParent("wrapperForMainNewData","id"))).show(),visibleAppSettings>0&&$("#ExportImportCogIcon",eval(callParent("ExportImportCogIcon","id"))).show())});